<template>
    <div class="slds-form-element slds-card">
         <label class='slds-m-around_x-small'><small>Color selection</small></label>
         <div class="slds-form-element__control">
                 <div class="slds-combobox_container">
                    <div >
                        <lightning-button label="Select" title="Select"
                        onclick={handleSelectButtonClick} class="slds-m-left_x-small"></lightning-button>                                
                        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon slds-input-has-icon_left-right" role="none">
                            <template for:each={selectedItems} for:item="selectedItem">
                                <span key={selectedItem.value}>
                                    <lightning-pill label={selectedItem.label} name={selectedItem.value} data-item={selectedItem.value}
                                        class='pillitem' onremove={handleRemoveItemFromSelected}>
                                    </lightning-pill>
                                </span>
                            </template>                     
                        </div>
                    </div>
                    
                    <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"  aria-expanded="true" aria-haspopup="listbox" role="combobox">
                            <template if:true={isShowSelectionDialog}>
                                <section aria-describedby="dialog-body-id-26" aria-label="Language Options"  class="slds-popover slds-popover_full-width" id="popover-unique-id-02" role="dialog">
                                    <header class="slds-popover__footer slds-popover__footer_form">
                                        <lightning-button label="Select all" title="Select all" 
                                                onclick={handleSelectAllClick} class="slds-m-left_x-small"></lightning-button>
                                        <lightning-button label="Clear all" title="Clear all"
                                                onclick={handleClearAllClick} class="slds-m-left_x-small"></lightning-button>                                
                                    </header>
                                    <div class="slds-popover__body slds-popover__body_small" id="dialog-body-id-26">
                                        <fieldset class="slds-form-element">   
                                            <lightning-checkbox-group name="Checkbox Group"
                                                label='Select example'
                                                options={items}
                                                value={selectedValues}
                                                onchange={handleCheckboxChange}
                                                >
                                            </lightning-checkbox-group>
                                        </fieldset>
                                    </div>
                                    <footer class="slds-popover__footer slds-popover__footer_form">
                                        <lightning-button label="Cancel" title="Cancel" 
                                                onclick={handleCancelClick} class="slds-m-left_x-small"></lightning-button>
                                    </footer>
                                </section>                                               
                            </template>
                    </div>
             </div>
         </div>
     </div>
   </template>